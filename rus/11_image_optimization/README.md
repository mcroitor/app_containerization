# Оптимизация образа контейнера

Часто размеры образов контейнеров могут быть существенными, что ведет к увеличению времени загрузки образа и его хранения. Это может быть по разным причинам, например, из-за использования базовых образов с большим количеством установленных пакетов, временных файлов и т.д. Уменьшение размеры образа контейнера сказывается на скорости его загрузки, хранения и передачи по сети.

## Минимальный базовый образ

Использование минимального базового образа позволяет уменьшить размер образа контейнера. Например, вместо использования образа `ubuntu` можно использовать образ `alpine`, который имеет размер порядка 5 Мб. Также можно использовать образ `scratch`, который вообще не содержит файлов и является пустым образом.

## Многоэтапная сборка

Многоэтапная сборка позволяет уменьшить размер образа контейнера, так как в конечном образе остаются только необходимые файлы и зависимости. Например, можно использовать образ с компилятором для сборки приложения, а затем скопировать только исполняемый файл в конечный образ.

## Уменьшение количества слоев

Образ хранит информацию о каждом слое, что увеличивает его размер. Поэтому объединение команд в один слой позволяет уменьшить размер образа. Например, вместо создания временного слоя для установки пакетов и удаления кэша, можно выполнить все команды в одном слое.

## Удаление неиспользуемых зависимостей и временных файлов

Удаление неиспользуемых зависимостей позволяет уменьшить размер образа контейнера. Например, после установки пакетов можно удалить временные файлы и кэш, чтобы уменьшить размер образа.

## Использование .dockerignore

Использование файла `.dockerignore` позволяет исключить из контекста сборки файлы и директории, которые не нужны для создания образа. Например, можно исключить временные файлы, кэш и т.д.

## Хранение данных вне образа

Хранение данных вне образа позволяет уменьшить размер образа контейнера. Например, можно использовать внешние тома для хранения данных, а не включать их в образ.

## Библиография
